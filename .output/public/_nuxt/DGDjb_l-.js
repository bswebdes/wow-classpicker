import{_ as W,G as Y,H as se,z as d,I as E,E as ee,T as te,J as r,A as b,B as e,K as D,D as K,C as n,L as k,i as $,M as re,l as M,N as L,O as R,P as ie,Q as ce,R as ae,F as Q,S as G,U as de,V as ue,y as me,W as he,o as ge}from"./D9JU1wSj.js";const be={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none overflow-hidden"},ve={class:"relative"},fe={__name:"BattleIntro",props:{show:Boolean,mode:{type:String,default:"battle"}},emits:["finished"],setup(a,{emit:h}){const i=a,c=h,v=$(""),u=$([]),m=$(-1),t=$(!1),{t:o,tm:g,rt:I}=Y();se(()=>i.show,p=>{p&&_()},{immediate:!0});async function _(){t.value=!0,i.mode==="selection"?u.value=g("battle.selectionWords").map(p=>I(p)):u.value=[o("battle.ready"),o("battle.fight")];for(let p=0;p<u.value.length;p++){m.value=p,v.value=u.value[p];const y=i.mode==="selection"?600:1e3;await new Promise(T=>setTimeout(T,y))}t.value=!1,m.value=-1,c("finished")}return(p,y)=>(d(),E(te,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-150","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-50"},{default:ee(()=>[r(t)?(d(),b("div",be,[e("div",ve,[y[0]||(y[0]=e("div",{class:"absolute inset-0 bg-red-600 blur-[100px] opacity-30 scale-150"},null,-1)),e("div",{class:D(["relative text-8xl md:text-9xl font-black italic tracking-tighter uppercase drop-shadow-[0_10px_10px_rgba(0,0,0,0.8)]",r(v)===r(o)("battle.ready")?"text-yellow-400":"text-red-600"]),style:{"font-family":"'Permanent Marker', cursive"}},[K(te,{mode:"out-in","enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform -translate-x-full opacity-0","enter-to-class":"transform translate-x-0 opacity-100","leave-active-class":"transition duration-100 ease-in","leave-from-class":"transform translate-x-0 opacity-100","leave-to-class":"transform translate-x-full opacity-0"},{default:ee(()=>[(d(),b("span",{key:r(v),class:"block"},n(r(v)),1))]),_:1})],2)])])):k("",!0)]),_:1}))}},pe=W(fe,[["__scopeId","data-v-5faff2a0"]]),B={warrior:{emoji:"ðŸ›¡ï¸",icon:"class-icons/ClassIcon_warrior.webp",stats:{hp:120,crit:.1},abilities:{execute:{damage:45,cooldown:0},shieldblock:{evade:!0,cooldown:3},heroicstrike:{damage:25,cooldown:0},victoryrush:{damage:20,heal:20,cooldown:3}}},paladin:{emoji:"âš–ï¸",icon:"class-icons/ClassIcon_paladin.webp",stats:{hp:100,crit:.05},abilities:{divineshield:{evade:!0,cooldown:3},judgement:{damage:25,heal:10,cooldown:3},avengingwrath:{damage:40,cooldown:0},flashoflight:{heal:30,cooldown:3}}},hunter:{emoji:"ðŸ¹",icon:"class-icons/ClassIcon_hunter.webp",stats:{hp:90,crit:.15},abilities:{aimedshot:{damage:35,cooldown:0},turtle:{evade:!0,cooldown:3},killcommand:{damage:30,cooldown:0},freezingtrap:{damage:15,cooldown:0}}},rogue:{emoji:"ðŸ¥·",icon:"class-icons/ClassIcon_rogue.webp",stats:{hp:80,crit:.2,dodge:.15},abilities:{kidneyshot:{damage:25,cooldown:0},eviscerate:{damage:35,cooldown:0},pickpocket:{damage:10,heal:15,cooldown:3},vanish:{evade:!0,cooldown:3}}},priest:{emoji:"â›ª",icon:"class-icons/ClassIcon_priest.webp",stats:{hp:85,crit:.05},abilities:{mindblast:{damage:30,cooldown:0},shield:{evade:!0,cooldown:3},flashheal:{heal:40,cooldown:3},swdeath:{damage:40,cooldown:0}}},deathknight:{emoji:"ðŸ’€",icon:"class-icons/ClassIcon_deathknight.webp",stats:{hp:115,crit:.08},abilities:{deathstrike:{damage:25,heal:20,cooldown:3},deathsadvance:{evade:!0,cooldown:3},howlingblast:{damage:30,cooldown:0},army:{damage:45,cooldown:0}}},shaman:{emoji:"âš¡",icon:"class-icons/ClassIcon_shaman.webp",stats:{hp:100,crit:.12},abilities:{chainlightning:{damage:35,cooldown:0},healingrain:{heal:30,cooldown:3},bloodlust:{damage:20,cooldown:0},totem:{evade:!0,cooldown:3}}},mage:{emoji:"ðŸ§™",icon:"class-icons/ClassIcon_mage.webp",stats:{hp:80,crit:.25},abilities:{fireball:{damage:40,cooldown:0},iceblock:{evade:!0,cooldown:3},blink:{evade:!0,cooldown:3},polymorph:{damage:10,cooldown:0}}},warlock:{emoji:"ðŸ˜ˆ",icon:"/class-icons/ClassIcon_warlock.webp",stats:{hp:100,crit:.08},abilities:{chaosbolt:{damage:45,cooldown:0},healthstone:{heal:25,cooldown:3},fear:{damage:10,cooldown:0},drainlife:{damage:20,heal:15,cooldown:3}}},monk:{emoji:"ðŸ¼",icon:"/class-icons/ClassIcon_monk.webp",stats:{hp:95,crit:.15,dodge:.1},abilities:{fists:{damage:35,cooldown:0},brew:{heal:20,evade:!0,cooldown:3},kick:{damage:25,cooldown:0},mist:{heal:25,cooldown:0}}},druid:{emoji:"ðŸ¦‰",icon:"/class-icons/ClassIcon_druid.webp",stats:{hp:105,crit:.1},abilities:{convoke:{damage:40,cooldown:3},regrowth:{heal:30,cooldown:0},bear:{evade:!0,cooldown:3},moonfire:{damage:20,cooldown:0}}},demonhunter:{emoji:"ðŸ¦‡",icon:"/class-icons/ClassIcon_demon_hunter.webp",stats:{hp:95,crit:.15,dodge:.05},abilities:{eyebeam:{damage:40,cooldown:3},blur:{evade:!0,cooldown:3},chaosstrike:{damage:30,cooldown:0},metamorphosis:{damage:35,heal:15,cooldown:3}}},evoker:{emoji:"ðŸ²",icon:"/class-icons/ClassIcon_evoker.webp",stats:{hp:100,crit:.12},abilities:{disintegrate:{damage:40,cooldown:0},blossom:{heal:30,cooldown:0},deepbreath:{damage:35,cooldown:3},rewind:{heal:40,cooldown:3}}}},F=["Aldren","Seraphine","Borin","Lyra","Cedric","Kaela","Dorian","Mira","Thorin","Elara","Garruk","Nyra","Roland","Isolde","Fenric","Talia","Rurik","Selene","Kael","Ysolda","Bram","Aveline","Corin","Neriah","Elden","Vesper","Oren","Melia","Kellan","Rhea","Torin","Aria","Lucan","Nessa","Jorik","Elowen","Dax","Liora","Faelan","Maera","Ronan","Sarai","Brann","Thalia","Korin","Naida","Eryk","Viana","Rowan","Myla"],we=()=>{const a={damageVariance:.2,healingVariance:.12,critMult:1.6,megaCritChance:.025,megaCritMult:2.5,lowHpThreshold:.3,lowHpCritBonus:.1,lowHpDodgeBonus:.1},h=$(new Set),i=re({});Object.keys(B).forEach(s=>{i[s]||(i[s]=F[Math.floor(Math.random()*F.length)])});const c=$([]),v=$([]),u=$(!1),m=$(!1),t=$(null),o=()=>F[Math.floor(Math.random()*F.length)],g=s=>{i[s]=o()},I=()=>{h.value.forEach(s=>{g(s)})},{t:_}=Y(),p=(s,l="")=>{v.value.push({id:Date.now()+Math.random(),message:s,type:l})},y=s=>`<span class="c-${s.id}">${s.name}</span>`,T=()=>{m.value=!0,c.value=Array.from(h.value).map(s=>{const l=B[s].stats||{},N=l.hp||100;return{id:s,classId:s,name:i[s]||_(`classes.${s}.name`),className:_(`classes.${s}.name`),emoji:B[s].emoji,icon:B[s].icon,maxHp:N,hp:N,abilities:Object.keys(B[s].abilities).map(f=>({...B[s].abilities[f],key:f,name:_(`classes.${s}.abilities.${f}.name`),msg:_(`classes.${s}.abilities.${f}.msg`)})).map(f=>({...f,currentCD:0})),alive:!0,evadeNext:!1,status:_("battle.status.ready"),isShaking:!1,stats:l,damageDone:0,healingDone:0}}),v.value=[],t.value=null,p(_("battle.startLog",{count:c.value.length}))},U=async()=>{if(u.value)return;for(u.value=!0;c.value.filter(l=>l.alive).length>1;)for(const l of c.value){if(!l.alive)continue;if(c.value.filter(x=>x.alive).length<=1)break;await new Promise(x=>setTimeout(x,800)),l.abilities.forEach(x=>{x.currentCD>0&&x.currentCD--}),l.stats?.dodge;const N=l.abilities.filter(x=>x.currentCD===0),f=N[Math.floor(Math.random()*N.length)],S=c.value.filter(x=>x.alive&&x.id!==l.id),w=S[Math.floor(Math.random()*S.length)];if(l.status=_("battle.status.using",{ability:f.name}),p(`${y(l)} ${_("battle.status.using",{ability:f.name})} ${f.msg}`),f.cooldown&&(f.currentCD=f.cooldown),f.evade&&(l.evadeNext=!0),f.heal){const x=1+(Math.random()*2-1)*a.healingVariance,H=Math.max(1,Math.round(f.heal*x));l.hp=Math.min(l.maxHp,l.hp+H),l.healingDone=(l.healingDone||0)+H}if(f.damage){const x=w.stats?.dodge||0,H=w.hp/w.maxHp<a.lowHpThreshold?a.lowHpDodgeBonus:0,q=Math.min(.6,x+H);if(w.evadeNext||Math.random()<q)w.evadeNext=!1,p(_("battle.evadeLog",{target:y(w),attacker:y(l)}),"evade"),w.status=_("battle.status.evade")||"Evaded!";else{let C=f.damage;const O=1+(Math.random()*2-1)*a.damageVariance;C=Math.max(1,Math.round(C*O));const oe=l.stats?.crit||0,le=l.hp/l.maxHp<a.lowHpThreshold?a.lowHpCritBonus:0,ne=Math.min(.75,oe+le);Math.random()<ne&&(Math.random()<a.megaCritChance?(C=Math.floor(C*a.megaCritMult),p(_("battle.megaCritLog",{attacker:y(l)}),"important")):(C=Math.floor(C*a.critMult),p(_("battle.critLog",{attacker:y(l)}),"important"))),w.hp=Math.max(0,w.hp-C),w.isShaking=!0,setTimeout(()=>{w.isShaking=!1},500),l.damageDone=(l.damageDone||0)+C,w.hp<=0&&w.alive&&(w.alive=!1,w.status="BESIEGT",p(`${y(w)} wurde von ${y(l)} eliminiert!`,"important"))}}}const s=c.value.find(l=>l.alive);s&&(t.value=s,p(`${y(s)} GEWINNT DIE ARENA!`,"important")),u.value=!1},J=()=>{m.value=!1,u.value=!1,c.value=[],t.value=null,h.value=new Set,p("Bereit fÃ¼r die nÃ¤chste Runde? WÃ¤hle deine Klassen!")},X=s=>{h.value.has(s)?h.value.delete(s):(h.value.add(s),i[s]||(i[s]=o())),h.value=new Set(h.value)},j=()=>{h.value=new Set(Object.keys(B)),h.value.forEach(s=>{i[s]||(i[s]=o())})},A=()=>{h.value=new Set},P=M(()=>c.value.reduce((s,l)=>s+l.hp,0)),V=M(()=>c.value.reduce((s,l)=>s+l.maxHp,0)),z=M(()=>V.value===0?0:Math.max(0,P.value/V.value*100));return{selectedClasses:h,characters:c,battleLog:v,isBattleInProgress:u,isStarted:m,winner:t,globalHpPercent:z,customNames:i,initBattle:T,startBattle:U,resetBattle:J,toggleClass:X,selectAll:j,deselectAll:A,randomizeName:g,randomizeAllNames:I}},xe={id:"selection-screen",class:"section mb-6 relative overflow-hidden"},_e={class:"mb-6"},ye={class:"text-4xl font-black italic tracking-tighter text-yellow-400 drop-shadow-[2px_2px_0px_rgba(0,0,0,1)] uppercase mb-2",style:{"font-family":"'Permanent Marker', cursive"}},ke={class:"flex justify-center flex-wrap gap-3 mb-8"},$e=["disabled"],Ce={class:"relative z-10"},Me=["disabled"],Ie={class:"relative z-10"},Ne=["disabled"],Be={class:"relative z-10"},De={id:"class-grid",class:"flex flex-wrap justify-center gap-4 px-2"},je=["onClick"],Se={class:"absolute inset-0 z-0 transition-transform duration-500 group-hover:scale-125"},Ae=["src","alt"],ze={key:0,class:"mt-3 w-full relative z-20 flex items-center gap-1 px-1"},He=["onUpdate:modelValue","placeholder"],Te=["onClick"],Pe={key:1,class:"stats-popup"},Ee={class:"font-black text-yellow-400 mb-1 border-b border-yellow-400/30 pb-1 italic uppercase text-xs"},Le={class:"text-[0.6rem] text-neutral-300 italic mb-2 leading-tight"},Re={class:"grid grid-cols-1 gap-1 font-mono text-[0.6rem]"},Ve={class:"flex justify-between border-b border-white/5"},Oe={class:"text-white font-bold"},Fe={class:"flex justify-between border-b border-white/5"},Ke={class:"text-white font-bold"},Ge={key:0,class:"flex justify-between border-b border-white/5"},We={class:"text-white font-bold"},Ue={key:2,class:"absolute -top-1 -right-1 min-w-5 h-5 px-1 bg-yellow-400 text-black text-[0.6rem] flex items-center justify-center font-black rounded-sm shadow-lg z-30 tracking-tighter",style:{fontFamily:"'Permanent Marker', cursive"}},Je={__name:"ClassSelection",props:{selectedClasses:Set,customNames:Object,isBattleInProgress:Boolean},emits:["toggle","selectAll","deselectAll","randomize-name","randomize-all"],setup(a,{emit:h}){const i=a,c=h,v=M(()=>Array.from(i.selectedClasses)),u=m=>{const t=v.value.indexOf(m);return t>=0?t+1:null};return(m,t)=>(d(),b("div",xe,[t[15]||(t[15]=e("div",{class:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-red-600 to-transparent opacity-50"},null,-1)),e("div",_e,[e("h3",ye,n(m.$t("selection.title")),1),t[4]||(t[4]=e("div",{class:"h-0.5 w-48 mx-auto bg-red-600 shadow-[0_0_10px_rgba(220,38,38,0.8)]"},null,-1))]),e("div",ke,[e("button",{class:"arcade-btn group",onClick:t[0]||(t[0]=o=>c("selectAll")),disabled:a.isBattleInProgress},[e("span",Ce,n(m.$t("selection.allIn")),1),t[5]||(t[5]=e("div",{class:"absolute inset-0 bg-green-700 transform skew-x-[-12deg] group-hover:bg-green-600 transition-colors"},null,-1))],8,$e),e("button",{class:"arcade-btn group",onClick:t[1]||(t[1]=o=>c("deselectAll")),disabled:a.isBattleInProgress},[e("span",Ie,n(m.$t("selection.clear")),1),t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-neutral-700 transform skew-x-[-12deg] group-hover:bg-neutral-600 transition-colors"},null,-1))],8,Me),e("button",{class:"arcade-btn group",onClick:t[2]||(t[2]=o=>c("randomize-all")),disabled:a.isBattleInProgress},[e("span",Be,n(m.$t("selection.randomNames")),1),t[7]||(t[7]=e("div",{class:"absolute inset-0 bg-blue-700 transform skew-x-[-12deg] group-hover:bg-blue-600 transition-colors"},null,-1))],8,Ne)]),e("div",De,[(d(!0),b(L,null,R(r(B),(o,g)=>(d(),b("div",{key:g,class:D(["fighter-card group",[{"is-selected":a.selectedClasses.has(g)},a.selectedClasses.has(g)?`border-c-${g}`:"border-neutral-700"]]),onClick:I=>c("toggle",g)},[t[14]||(t[14]=e("div",{class:"absolute inset-0 opacity-10 pointer-events-none overflow-hidden rounded-lg"},[e("div",{class:"absolute inset-0 rotate-45 scale-150 bg-[repeating-linear-gradient(0deg,#000,#000_1px,transparent_1px,transparent_4px)]"})],-1)),e("div",Se,[e("img",{src:o.icon,alt:o.name,class:"w-full h-full object-cover"},null,8,Ae)]),e("div",{class:D(["relative z-10 text-[0.65rem] mt-auto font-black uppercase tracking-tighter bg-black/60 w-full py-1 backdrop-blur-sm",a.selectedClasses.has(g)?`text-c-${g}`:"text-neutral-500"]),style:{"font-family":"'Press Start 2P', cursive","font-size":"0.5rem"}},n(m.$t(`classes.${g}.name`)),3),a.selectedClasses.has(g)?(d(),b("div",ze,[ie(e("input",{"onUpdate:modelValue":I=>a.customNames[g]=I,type:"text",placeholder:m.$t("selection.namePlaceholder"),class:"min-w-0 w-full text-[0.6rem] p-1 bg-black/60 border border-white/20 rounded-sm text-white text-center focus:outline-none focus:border-yellow-500 font-bold uppercase",onClick:t[3]||(t[3]=ae(()=>{},["stop"]))},null,8,He),[[ce,a.customNames[g]]]),e("button",{class:"shrink-0 p-1 text-[0.6rem] rounded-sm border border-white/20 bg-neutral-800 hover:bg-red-600 transition-colors",onClick:ae(I=>c("randomize-name",g),["stop"])},"ðŸŽ²",8,Te)])):k("",!0),a.selectedClasses.has(g)?(d(),b("div",Pe,[e("div",Ee,n(m.$t(`classes.${g}.name`)),1),e("div",Le,'"'+n(m.$t(`classes.${g}.description`))+'"',1),e("div",Re,[e("div",Ve,[t[8]||(t[8]=e("span",null,"HP",-1)),t[9]||(t[9]=Q()),e("span",Oe,n(o.stats.hp),1)]),e("div",Fe,[t[10]||(t[10]=e("span",null,"CRT",-1)),t[11]||(t[11]=Q()),e("span",Ke,n(o.stats.crit*100)+"%",1)]),o.stats.dodge?(d(),b("div",Ge,[t[12]||(t[12]=e("span",null,"DDG",-1)),t[13]||(t[13]=Q()),e("span",We,n(o.stats.dodge*100)+"%",1)])):k("",!0)])])):k("",!0),a.selectedClasses.has(g)?(d(),b("div",Ue," P"+n(u(g)),1)):k("",!0)],10,je))),128))])]))}},qe=W(Je,[["__scopeId","data-v-2ae3bbda"]]),Qe=["id"],Ye={class:"w-24 h-4 bg-neutral-700 border-2 border-black rounded overflow-hidden mb-2"},Xe={class:"w-16 h-16 mb-2"},Ze=["src","alt"],et=["title"],tt={key:0,class:"text-[0.6rem] text-neutral-500 uppercase font-bold"},at={class:"text-neutral-400 text-xs h-5"},st={__name:"CharacterCard",props:{character:Object},setup(a){const h=a,i=M(()=>Math.max(0,h.character.hp/h.character.maxHp*100)),c=M(()=>i.value<20?"#f44336":i.value<50?"#ffeb3b":"#4caf50");return(v,u)=>(d(),b("div",{id:a.character.id,class:D([[a.character.id,{"opacity-30 grayscale scale-95 rotate-3":!a.character.alive,"animate-[shake_0.5s_cubic-bezier(.36,.07,.19,.97)_both]":a.character.isShaking}],"flex flex-col items-center transition-transform duration-200 w-28 mb-5"])},[e("div",Ye,[e("div",{class:"h-full transition-[width,background-color] duration-300",style:G({width:r(i)+"%",backgroundColor:r(c)})},null,4)]),e("div",Xe,[e("img",{src:a.character.icon,alt:a.character.className,class:"w-full h-full object-contain"},null,8,Ze)]),e("div",{class:"font-bold text-sm text-center line-clamp-1",title:a.character.name},n(a.character.name),9,et),a.character.name!==a.character.className?(d(),b("div",tt,n(v.$t(`classes.${a.character.classId}.name`)),1)):k("",!0),e("div",at,n(a.character.status),1)],10,Qe))}},ot=["innerHTML"],lt={__name:"BattleLog",props:{logEntries:Array},setup(a){const h=a,i=$(null);return se(()=>h.logEntries.length,()=>{de(()=>{i.value&&(i.value.scrollTop=i.value.scrollHeight)})}),(c,v)=>(d(),b("div",{ref_key:"logRef",ref:i,id:"battle-log",class:"mt-5 bg-black text-green-400 font-mono p-4 h-40 overflow-y-auto text-left border border-neutral-800 rounded"},[(d(!0),b(L,null,R(a.logEntries,u=>(d(),b("div",{key:u.id,class:D(["py-1 border-b border-neutral-900 last:border-b-0",{"text-yellow-300 font-bold":u.type==="important","text-cyan-400":u.type==="evade","text-red-400":u.type==="damage","text-green-400":u.type==="heal"}]),innerHTML:"> "+u.message},null,10,ot))),128))],512))}},nt={class:"section p-4 border border-neutral-800 rounded bg-neutral-950/50"},rt={class:"text-xs font-bold uppercase tracking-wider text-neutral-400 mb-3"},it={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ct={class:"text-sm font-semibold text-neutral-300 mb-2"},dt={class:"space-y-2"},ut={class:"w-8 text-right text-xs text-neutral-400"},mt={class:"flex-1"},ht={class:"h-6 bg-neutral-800 rounded overflow-hidden border border-neutral-700"},gt={class:"truncate"},bt={class:"w-16 text-right text-xs tabular-nums"},vt={class:"text-sm font-semibold text-neutral-300 mb-2"},ft={class:"space-y-2"},pt={class:"w-8 text-right text-xs text-neutral-400"},wt={class:"flex-1"},xt={class:"h-6 bg-neutral-800 rounded overflow-hidden border border-neutral-700"},_t={class:"truncate"},yt={class:"w-16 text-right text-xs tabular-nums"},kt={__name:"DpsMeter",props:{characters:{type:Array,default:()=>[]}},setup(a){const h=a,i=M(()=>h.characters.map(t=>({id:t.id,name:t.name,className:t.className,damage:t.damageDone||0})).sort((t,o)=>o.damage-t.damage)),c=M(()=>h.characters.map(t=>({id:t.id,name:t.name,className:t.className,healing:t.healingDone||0})).sort((t,o)=>o.healing-t.healing)),v=M(()=>Math.max(1,...i.value.map(m=>m.damage))),u=M(()=>Math.max(1,...c.value.map(m=>m.healing)));return(m,t)=>(d(),b("div",nt,[e("div",rt,n(m.$t("meter.performance")),1),e("div",it,[e("div",null,[e("div",ct,n(m.$t("meter.totalDamage")),1),e("div",dt,[(d(!0),b(L,null,R(r(i),(o,g)=>(d(),b("div",{key:"d-"+o.id,class:"flex items-center gap-2"},[e("div",ut,"#"+n(g+1),1),e("div",mt,[e("div",ht,[e("div",{class:D(["h-full text-xs flex items-center px-2 transition-all duration-300 ease-out meter-bar-text","bg-c-"+o.id]),style:G({width:Math.round(o.damage/r(v)*100)+"%"})},[e("span",gt,n(o.name)+" ("+n(o.className)+")",1)],6)])]),e("div",bt,n(o.damage),1)]))),128))])]),e("div",null,[e("div",vt,n(m.$t("meter.totalHealing")),1),e("div",ft,[(d(!0),b(L,null,R(r(c),(o,g)=>(d(),b("div",{key:"h-"+o.id,class:"flex items-center gap-2"},[e("div",pt,"#"+n(g+1),1),e("div",wt,[e("div",xt,[e("div",{class:D(["h-full text-xs flex items-center px-2 transition-all duration-300 ease-out meter-bar-text","bg-c-"+o.id]),style:G({width:Math.round(o.healing/r(u)*100)+"%"})},[e("span",_t,n(o.name)+" ("+n(o.className)+")",1)],6)])]),e("div",yt,n(o.healing),1)]))),128))])])])]))}},$t=W(kt,[["__scopeId","data-v-53d98539"]]),Ct={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm"},Mt={id:"victory-screen",class:"max-w-sm w-full p-8 border-4 border-yellow-400 bg-neutral-900 rounded-2xl shadow-2xl shadow-yellow-500/20 text-center animate-bounce-subtle"},It={class:"text-3xl font-extrabold text-yellow-400 drop-shadow-md"},Nt={class:"mt-6 flex flex-col items-center"},Bt={class:"w-24 h-24 mb-2"},Dt=["src","alt"],jt={class:"text-xl"},St={key:0,class:"text-sm text-neutral-500 uppercase font-bold"},At={class:"relative z-10"},zt={__name:"VictoryScreen",props:{winner:Object},emits:["close"],setup(a,{emit:h}){const i=h;return(c,v)=>a.winner?(d(),b("div",Ct,[e("div",Mt,[v[2]||(v[2]=e("div",{class:"text-6xl mb-4"},"ðŸ†",-1)),e("h2",It,n(c.$t("victory.champion")),1),e("div",Nt,[e("div",Bt,[e("img",{src:a.winner.icon,alt:a.winner.className,class:"w-full h-full object-contain"},null,8,Dt)]),e("p",jt,n(c.$t("victory.playInMidnight")),1),e("p",{class:D(["text-2xl font-bold mt-1",`text-c-${a.winner.id}`])},n(a.winner.name),3),a.winner.name!==a.winner.className?(d(),b("p",St,n(c.$t(`classes.${a.winner.classId}.name`)),1)):k("",!0)]),e("button",{class:"arcade-btn group relative overflow-hidden mt-8 w-full",onClick:v[0]||(v[0]=u=>i("close"))},[e("span",At,n(c.$t("victory.again")),1),v[1]||(v[1]=e("div",{class:"absolute inset-0 bg-yellow-600 transform skew-x-[-12deg] group-hover:bg-yellow-500 transition-colors"},null,-1))])])])):k("",!0)}},Ht=W(zt,[["__scopeId","data-v-b28f92ed"]]),Tt={class:"max-w-5xl w-[90%] mx-auto text-center card p-6 mt-8"},Pt={class:"mb-6"},Et={class:"text-3xl font-extrabold text-yellow-400 drop-shadow-sm"},Lt={class:"mt-2 italic text-neutral-400"},Rt={key:1,class:"mb-4"},Vt={class:"flex justify-between items-center mb-1 text-xs font-bold uppercase tracking-wider text-neutral-400"},Ot={class:"w-full h-3 bg-neutral-800 border border-neutral-700 rounded-full overflow-hidden shadow-inner"},Ft={key:2,id:"arena",class:"flex justify-center items-end flex-wrap gap-4 mb-8 p-5 section min-h-[250px]"},Kt={class:"mt-8 flex items-center justify-center gap-3"},Gt={class:"relative z-10"},Wt={class:"mt-6"},Ut={class:"mt-6"},Jt={class:"mt-6"},Qt={__name:"index",setup(a){const{selectedClasses:h,characters:i,battleLog:c,isBattleInProgress:v,isStarted:u,winner:m,initBattle:t,startBattle:o,resetBattle:g,toggleClass:I,selectAll:_,deselectAll:p,globalHpPercent:y,customNames:T,randomizeName:U,randomizeAllNames:J}=we(),{locale:X,t:j}=Y(),A=ue({});me({htmlAttrs:{lang:A.value.htmlAttrs.lang,dir:A.value.htmlAttrs.dir},link:[...A.value.link||[]],meta:[...A.value.meta||[]]}),he({title:()=>j("seo.title"),ogTitle:()=>j("seo.title"),description:()=>j("seo.description"),ogDescription:()=>j("seo.description"),ogImage:"/og-image.png",twitterCard:"summary_large_image"});const P=$(!1),V=()=>{P.value=!1,t(),o()},z=$(!1),s=()=>{z.value=!1};ge(()=>{z.value=!0});const l=()=>{if(h.value.size<2){alert(j("minTwoClasses"));return}P.value=!0},N=()=>{g(),setTimeout(()=>{z.value=!0},50)};return(f,S)=>{const w=pe,x=qe,H=st,q=lt,Z=$t,C=Ht;return d(),b("div",Tt,[e("header",Pt,[e("h1",Et,n(f.$t("welcome")),1),e("p",Lt,n(f.$t("description")),1)]),K(w,{show:r(z),mode:"selection",onFinished:s},null,8,["show"]),K(w,{show:r(P),mode:"battle",onFinished:V},null,8,["show"]),e("main",null,[r(u)?k("",!0):(d(),E(x,{key:0,"selected-classes":r(h),"custom-names":r(T),"is-battle-in-progress":r(v),onToggle:r(I),onSelectAll:r(_),onDeselectAll:r(p),onRandomizeName:r(U),onRandomizeAll:r(J)},null,8,["selected-classes","custom-names","is-battle-in-progress","onToggle","onSelectAll","onDeselectAll","onRandomizeName","onRandomizeAll"])),r(u)?(d(),b("div",Rt,[e("div",Vt,[e("span",null,n(f.$t("arenaStatus")),1),e("span",null,n(Math.round(r(y)))+"%",1)]),e("div",Ot,[e("div",{class:"h-full bg-gradient-to-r from-red-600 via-yellow-500 to-green-500 transition-all duration-500 ease-out",style:G({width:r(y)+"%"})},null,4)])])):k("",!0),r(u)?(d(),b("div",Ft,[(d(!0),b(L,null,R(r(i),O=>(d(),E(H,{key:O.id,character:O},null,8,["character"]))),128))])):k("",!0),e("div",Kt,[r(u)?k("",!0):(d(),b("button",{key:0,class:"arcade-btn group relative overflow-hidden",onClick:l},[e("span",Gt,n(f.$t("startBattle")),1),S[0]||(S[0]=e("div",{class:"absolute inset-0 bg-red-700 transform skew-x-[-12deg] group-hover:bg-red-600 transition-colors"},null,-1))])),r(u)&&!r(v)?(d(),b("button",{key:1,id:"reset-btn",class:"btn-secondary",onClick:N},n(f.$t("backToSelection")),1)):k("",!0)]),e("div",Wt,[K(q,{"log-entries":r(c)},null,8,["log-entries"])]),e("div",Ut,[r(u)?(d(),E(Z,{key:0,characters:r(i)},null,8,["characters"])):k("",!0)]),e("div",Jt,[r(m)?(d(),E(C,{key:0,winner:r(m),onClose:N},null,8,["winner"])):k("",!0)])]),S[1]||(S[1]=e("footer",{class:"mt-10 pt-6 border-t border-neutral-800 text-sm text-neutral-400"},null,-1))])}}};export{Qt as default};
